# Example .env for resonance-website
# Copy this to .env and set real values for your environment.

# Postgres database URL (DSN). Example format:
# postgres://username:password@localhost:5432/resonance_db?sslmode=disable
DATABASE_URL=postgres://user:password@localhost:5432/resonance_db?sslmode=required

# AUTO_MIGRATE=true will run GORM AutoMigrate on startup (development convenience).
# For production, set to false and run SQL migrations via a migration tool (golang-migrate).
AUTO_MIGRATE=false

# MIGRATE_MODE can be 'auto' (AutoMigrate), 'manual', or other values your deploy uses.
MIGRATE_MODE=manual

# Server settings
# SERVER_PORT can be in the form :8080 or 0.0.0.0:8080
SERVER_PORT=:8080

# WEBSITE_URL is used for CORS allow origins in the API server
WEBSITE_URL=http://localhost:3000

# Optional: configure log level, migration toggles, etc.
# LOG_LEVEL=info
# RUN_MIGRATIONS_ON_STARTUP=false

# Discord OAuth2 (primary auth)
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
# Redirect URI should point to your FRONTEND callback page, not backend
DISCORD_REDIRECT_URI=http://localhost:3000/auth/callback

# JWT secret for signing auth tokens (generate a secure random string for production)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# API key pepper used to HMAC-hash user API keys (server-side secret; do NOT share)
API_KEY_PEPPER=change-me-pepper

# Environment (development or production) - affects cookie security settings
ENVIRONMENT=development

# Next.js Frontend env vars (for app/.env.local)
# NEXT_PUBLIC_REVERSE_PROXY_URL=http://localhost:3000/api
# NEXT_PUBLIC_DISCORD_OAUTH_URL is not needed anymore - backend generates it
